(this.webpackJsonplax_medic=this.webpackJsonplax_medic||[]).push([[15],{166:function(e,t,a){e.exports=a.p+"static/media/login1.d7d51fa1.jpg"},283:function(e,t,a){"use strict";var r=a(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(61)).default)(n.default.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=o},284:function(e,t,a){"use strict";var r=a(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(61)).default)(n.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"}),"VideoCall");t.default=o},285:function(e,t,a){"use strict";var r=a(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(61)).default)(n.default.createElement("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call");t.default=o},286:function(e,t,a){"use strict";var r=a(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(61)).default)(n.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=o},300:function(e,t,a){"use strict";var r=a(21),n=a(1),o=(a(8),a(22));function l(e,t){var a={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(a[r]=e[r])})),a}function i(e){var t=function(t){var a=e(t);return t.css?Object(n.a)({},Object(o.a)(a,e(Object(n.a)({theme:t.theme},t.css))),l(t.css,[e.filterProps])):t.sx?Object(n.a)({},Object(o.a)(a,e(Object(n.a)({theme:t.theme},t.sx))),l(t.sx,[e.filterProps])):a};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var c=i;var s=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=function(e){return t.reduce((function(t,a){var r=a(e);return r?Object(o.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},p=a(15),u=a(47);function m(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var f=function(e){var t=e.prop,a=e.cssProperty,r=void 0===a?e.prop:a,n=e.themeKey,o=e.transform,l=function(e){if(null==e[t])return null;var a=e[t],l=m(e.theme,n)||{};return Object(u.a)(e,a,(function(e){var t;return"function"===typeof l?t=l(e):Array.isArray(l)?t=l[e]||e:(t=m(l,e)||e,o&&(t=o(t))),!1===r?t:Object(p.a)({},r,t)}))};return l.propTypes={},l.filterProps=[t],l};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var g=s(f({prop:"border",themeKey:"borders",transform:d}),f({prop:"borderTop",themeKey:"borders",transform:d}),f({prop:"borderRight",themeKey:"borders",transform:d}),f({prop:"borderBottom",themeKey:"borders",transform:d}),f({prop:"borderLeft",themeKey:"borders",transform:d}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),h=s(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),b=s(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),v=s(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),y=s(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),x=s(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),O=f({prop:"boxShadow",themeKey:"shadows"});function j(e){return e<=1?"".concat(100*e,"%"):e}var E=f({prop:"width",transform:j}),w=f({prop:"maxWidth",transform:j}),C=f({prop:"minWidth",transform:j}),k=f({prop:"height",transform:j}),S=f({prop:"maxHeight",transform:j}),N=f({prop:"minHeight",transform:j}),P=(f({prop:"size",cssProperty:"width",transform:j}),f({prop:"size",cssProperty:"height",transform:j}),s(E,w,C,k,S,N,f({prop:"boxSizing"}))),_=a(97),z=s(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),T=a(3),I=a(0),K=a.n(I),M=a(13),R=a(23),A=a.n(R),H=a(81);function L(e,t){var a={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(a[r]=e[r])})),a}var B=a(24),D=function(e){var t=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.name,o=Object(T.a)(a,["name"]);var l,i=r,c="function"===typeof t?function(e){return{root:function(a){return t(Object(n.a)({theme:e},a))}}}:{root:t},s=Object(H.a)(c,Object(n.a)({Component:e,name:r||e.displayName,classNamePrefix:i},o));t.filterProps&&(l=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var p=K.a.forwardRef((function(t,a){var r=t.children,o=t.className,i=t.clone,c=t.component,p=Object(T.a)(t,["children","className","clone","component"]),u=s(t),m=Object(M.a)(u.root,o),f=p;if(l&&(f=L(f,l)),i)return K.a.cloneElement(r,Object(n.a)({className:Object(M.a)(r.props.className,m)},f));if("function"===typeof r)return r(Object(n.a)({className:m},f));var d=c||e;return K.a.createElement(d,Object(n.a)({ref:a,className:m},f),r)}));return A()(p,e),p}}(e);return function(e,a){return t(e,Object(n.a)({defaultTheme:B.a},a))}},F=c(s(g,h,b,v,y,x,O,P,_.b,z)),W=D("div")(F,{name:"MuiBox"});t.a=W},393:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return $}));var r=a(176),n=a(101),o=a(11),l=a(0),i=a.n(l),c=a(80),s=a(341),p=a(167),u=a(12),m=a(36),f=a(348),d=a(356),g=a(360),h=a(1),b=a(3),v=(a(8),a(13)),y=a(134),x=l.forwardRef((function(e,t){var a=e.classes,r=e.className,n=Object(b.a)(e,["classes","className"]),o=l.useContext(y.a);return l.createElement("div",Object(h.a)({className:Object(v.a)(a.root,r,"flex-start"===o.alignItems&&a.alignItemsFlexStart),ref:t},n))})),O=Object(u.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(x),j=a(397),E=a(352),w=a(357),C=a(30),k=a(166),S=a.n(k),N=a(43);a(39),a(358),a(388),a(368),a(338),a(300);Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,minHeight:"85vh",width:"100%",flexGrow:1,position:"relative"}}}));var P=a(398),_=a(350),z=a(351),T=a(19),I=a(283),K=a.n(I),M=a(285),R=a.n(M),A=a(284),H=a.n(A),L=a(204),B=a.n(L),D=a(286),F=a.n(D),W=Object(m.a)((function(e){return{root:{height:"87vh",width:"100%",flexGrow:1,display:"flex",flexDirection:"column",position:"relative"},header:{position:"relative",zIndex:1,padding:"2px 2px",display:"flex",alignItems:"center",width:"100%"},title:{flex:1},body:{flex:1,overflow:"auto"},messageContainer:{margin:"10px 0px",display:"flex",flexDirection:"column"},messageRight:{padding:"6px 13px",maxWidth:"80%",color:"black",alignSelf:"flex-end !important",backgroundColor:T.a[50]},messageLeft:{padding:"6px 13px",maxWidth:"80%",alignSelf:"flex-start !important",backgroundColor:"#fff"},form:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%","& .MuiTextField-root":{margin:e.spacing(.5),flex:1}},iconButton:{padding:10},divider:{height:28,margin:4}}})),G={type:"text",content:""};function J(e){var t=e.changeView,a=e.currentRoom,r=e.sendChatMessage,c=W(),p=i.a.useState(),u=Object(o.a)(p,2),m=u[0],f=u[1];i.a.useEffect((function(){console.log("je suis la"),console.log(a),a&&(d.current.scrollTop+=5e3)}),[a]);var d=Object(l.useRef)(null);return i.a.createElement("div",{className:c.root},a?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{className:c.header},i.a.createElement(_.a,{onClick:function(e){return t(0)}},i.a.createElement(K.a,null)),i.a.createElement("div",{className:c.title},i.a.createElement(z.a,null,a.room_name)),i.a.createElement(_.a,{onClick:function(e){return t(2)}},i.a.createElement(H.a,null)),i.a.createElement(w.a,{orientation:"vertical",flexItem:!0}),i.a.createElement(_.a,{onClick:function(e){return t(2)}},i.a.createElement(R.a,null))),i.a.createElement("div",{className:c.body,ref:d},a.messages!==[]?a.messages.map((function(e,t){var r=new Date(e.date);return i.a.createElement("div",{key:t,className:c.messageContainer},i.a.createElement(s.a,{className:a.room!==e.author.id?c.messageRight:c.messageLeft},i.a.createElement("strong",{className:c.right},e.author.username),i.a.createElement("p",null,e.message),i.a.createElement("p",{style:{textAlign:"right",fontSize:14}},i.a.createElement("small",null,r.toLocaleString()))))})):null,i.a.createElement("div",null)),i.a.createElement(s.a,{component:"form",className:c.form,onChange:function(e){G=Object(n.a)(Object(n.a)({},G),{},{content:e.target.value.trim()})},onSubmit:function(e){e.preventDefault(),console.log(G),r(G,a.room),G={type:"text",content:""},f(""),f(null)}},i.a.createElement(_.a,{className:c.iconButton,"aria-label":"menu"},i.a.createElement(B.a,null)),i.a.createElement(P.a,{required:!0,id:"filled-multiline-flexible",name:"text",label:"Message",multiline:!0,maxRows:4,value:m,variant:"outlined"}),i.a.createElement(_.a,{type:"submit","aria-label":"directions"},i.a.createElement(F.a,{style:{fontSize:30}})))):null)}var V=Object(u.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(E.a),q=Object(m.a)((function(e){return{root:{Height:"80vh"},root1:{width:"100%",maxHeight:"80vh",overflow:"auto",backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(".concat(S.a,"gh)"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:C.a[500],"&:hover":{backgroundColor:C.a[700]}},fabProgress:{color:C.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:C.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function $(e){var t=e.addCallBack,a=e.deleteCallBack,u=e.webSocket,m=q(),h=Object(N.b)(),b=i.a.useState(0),v=Object(o.a)(b,2),y=(v[0],v[1]),x=i.a.useState(1),E=Object(o.a)(x,2),C=E[0],k=E[1],S=i.a.useState([]),P=Object(o.a)(S,2),_=P[0],z=P[1],T=i.a.useState(),I=Object(o.a)(T,2),K=I[0],M=I[1];Object(l.useEffect)((function(){return console.log(t),t({id:"ChatSpace",type:["chat","personals_list","simple_messages"],run:function(e){console.log("je suis la depuis chaspace"),console.log(e),"personals_list"===e.type?z(e.content):"simple_messages"===e.type?(M(e.content),y(1)):"chat"===e.type&&"message"===e.content.type&&(console.log("message set"),M((function(t){return Object(n.a)(Object(n.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[e.content.message])})})))}}),function(){a("ChatSpace")}}),[]),Object(l.useEffect)((function(){u.send(JSON.stringify({type:"get_personals_list"}))}),[]);var R=function(e){u.send(JSON.stringify({type:"get_simple_messages",content:{room:e}}))};return i.a.createElement("div",null,i.a.createElement(p.a,{container:!0,component:s.a,className:m.root},i.a.createElement(c.a,null),i.a.createElement(p.a,{item:!0,xs:12,sm:8,md:5},i.a.createElement(p.a,{container:!0},i.a.createElement(f.a,{className:m.root1},_!==[]?_.map((function(e,t){var a="http://"+window.location.hostname+":8000"+e.avatar;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{button:!0,selected:C===e.id,onClick:function(t){return function(e,t){k(t),R(t)}(0,e.id)}},i.a.createElement(O,null,e.is_online?i.a.createElement(V,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},i.a.createElement(j.a,{alt:null,src:a})):i.a.createElement(j.a,{alt:null,src:a})),i.a.createElement(g.a,{primary:e.username,secondary:e.last_message})),i.a.createElement(w.a,{variant:"inset",component:"li"}))})):null))),i.a.createElement(p.a,{item:!0,xs:!1,sm:4,md:7,className:m.image},i.a.createElement(J,{changeView:k,currentRoom:K,sendChatMessage:function(e,t){var a=new Date;console.log("sendChatMessage"),u.send(JSON.stringify({type:"chat",content:{room_type:"simple",author:h.user.id,to:t,message_type:e.type,message:e.content,message_code:a.getTime()}}))}}))))}}}]);
//# sourceMappingURL=15.435d9297.chunk.js.map