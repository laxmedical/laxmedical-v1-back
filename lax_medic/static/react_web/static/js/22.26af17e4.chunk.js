(this.webpackJsonplax_medic=this.webpackJsonplax_medic||[]).push([[22],{382:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return q}));var n=t(11),l=t(98),r=t(0),i=t.n(r),c=t(13),o=t(36),s=t(20),d=t(362),u=t(366),m=t(365),p=t(383),g=t(363),b=t(405),h=t(364),f=t(404),E=t(359),v=t(338),k=t(341),w=t(301),y=t(350),S=t(367),P=t(257),O=t(384),j=t(298),C=t.n(j),x=t(299),N=t.n(x),_=t(397),D=t(40);function L(e,a,t,n,l){return{id:e,name:a,calories:t,fat:n,protein:l}}L("Cupcake",305,3.7,67,4.3),L("Donut",452,25,51,4.9),L("Eclair",262,16,24,6),L("Frozen yoghurt",159,6,24,4),L("Gingerbread",356,16,49,3.9),L("Honeycomb",408,3.2,87,6.5),L("Ice cream sandwich",237,9,37,4.3),L("Jelly Bean",375,0,94,0),L("KitKat",518,26,65,7),L("Lollipop",392,.2,98,0),L("Marshmallow",318,0,81,2),L("Nougat",360,19,9,37),L("Oreo",437,18,63,4);function B(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var A=[{id:"ID",numeric:!1,disablePadding:!1,label:"N\xb0"},{id:"name",numeric:!1,disablePadding:!0,label:"Nom"},{id:"calories",numeric:!1,disablePadding:!1,label:"Sex"},{id:"fat",numeric:!1,disablePadding:!1,label:"Age"},{id:"protein",numeric:!1,disablePadding:!1,label:"fiches"}];function I(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,l=e.orderBy,r=e.numSelected,c=e.rowCount,o=e.onRequestSort;return i.a.createElement(g.a,null,i.a.createElement(h.a,null,i.a.createElement(m.a,{padding:"checkbox"},i.a.createElement(w.a,{indeterminate:r>0&&r<c,checked:c>0&&r===c,onChange:t,inputProps:{"aria-label":"select all desserts"}})),A.map((function(e){return i.a.createElement(m.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&n},i.a.createElement(f.a,{active:l===e.id,direction:l===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)})},e.label,l===e.id?i.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var J=Object(o.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(s.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),R=function(e){var a=J(),t=e.numSelected;return i.a.createElement(E.a,{className:Object(c.a)(a.root,Object(l.a)({},a.highlight,t>0))},t>0?i.a.createElement(v.a,{className:a.title,color:"inherit",variant:"subtitle1",component:"div"},t," selected"):i.a.createElement(v.a,{className:a.title,variant:"h6",id:"tableTitle",component:"div"},"Liste des patients"),t>0?i.a.createElement(S.a,{title:"Delete"},i.a.createElement(y.a,{"aria-label":"delete"},i.a.createElement(C.a,null))):i.a.createElement(S.a,{title:"Filter list"},i.a.createElement(y.a,{"aria-label":"filter list"},i.a.createElement(N.a,null))))},H=Object(o.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function q(e){var a=e.addCallBack,t=e.deleteCallBack,l=e.webSocket,r=H(),c=i.a.useState("asc"),o=Object(n.a)(c,2),s=o[0],g=o[1],f=i.a.useState(""),E=Object(n.a)(f,2),v=E[0],w=E[1],y=i.a.useState([]),S=Object(n.a)(y,2),j=S[0],C=S[1],x=i.a.useState(0),N=Object(n.a)(x,2),A=N[0],J=N[1],q=i.a.useState(!0),z=Object(n.a)(q,2),F=z[0],K=z[1],M=i.a.useState(5),T=Object(n.a)(M,2),G=T[0],W=T[1],Y=i.a.useState([]),Q=Object(n.a)(Y,2),U=Q[0],V=Q[1];i.a.useEffect((function(){return l.send(JSON.stringify({type:"get_patients",content:{page_index:1}})),console.log(a),a({id:"PatientList",type:["patient_list"],run:function(e){if(console.log("je suis la depuis PatientList"),console.log(e),"patient_list"===e.type&&"error"!==e.status){var a=e.content.patients.map((function(e){var a,t=new Date(e.birth_date),n=new Date;return a=new Date(n-t).getYear()-70,L(e.id,"".concat(e.first_name," ").concat(e.last_name," ").concat(e.username),e.sex,a,e.fiches)}));V(a)}}}),function(){t("PatientList")}}),[]);var X=G-Math.min(G,U.length-A*G);return i.a.createElement("div",{className:r.root},i.a.createElement(k.a,{className:r.paper},i.a.createElement(R,{numSelected:j.length}),i.a.createElement(p.a,null,i.a.createElement(d.a,{className:r.table,"aria-labelledby":"tableTitle",size:F?"small":"medium","aria-label":"enhanced table"},i.a.createElement(I,{classes:r,numSelected:j.length,order:s,orderBy:v,onSelectAllClick:function(e){if(e.target.checked){var a=U.map((function(e){return e.name}));C(a)}else C([])},onRequestSort:function(e,a){g(v===a&&"asc"===s?"desc":"asc"),w(a)},rowCount:U.length}),i.a.createElement(u.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(U,function(e,a){return"desc"===e?function(e,t){return B(e,t,a)}:function(e,t){return-B(e,t,a)}}(s,v)).slice(A*G,A*G+G).map((function(e,a){var t,n=(t=e.name,-1!==j.indexOf(t)),l="enhanced-table-checkbox-".concat(a);return i.a.createElement(h.a,{hover:!0,role:"link","aria-checked":n,tabIndex:-1,key:e.name,selected:n},i.a.createElement(m.a,null,i.a.createElement(_.a,{alt:null,src:"avatarLink"})),i.a.createElement(m.a,null,e.id),i.a.createElement(m.a,{component:"th",id:l,scope:"row",padding:"none"},i.a.createElement(D.b,{to:"/lax_medic/work-place/patient-profiles-".concat(e.id,"/liste-des-fiches")},e.name)),i.a.createElement(m.a,null,e.calories),i.a.createElement(m.a,null,e.fat," ans"),i.a.createElement(m.a,null,e.protein," | ",i.a.createElement(D.b,{to:"/lax_medic/work-place/patient-profiles-".concat(e.id,"/enregistrer-une-fiche")},"Ajouter")))})),X>0&&i.a.createElement(h.a,{style:{height:(F?33:53)*X}},i.a.createElement(m.a,{colSpan:6}))))),i.a.createElement(b.a,{rowsPerPageOptions:[5,10,25],component:"div",count:U.length,rowsPerPage:G,page:A,onPageChange:function(e,a){J(a)},onRowsPerPageChange:function(e){W(parseInt(e.target.value,10)),J(0)}})),i.a.createElement(P.a,{control:i.a.createElement(O.a,{checked:F,onChange:function(e){K(e.target.checked)}}),label:"Dense padding"}))}}}]);
//# sourceMappingURL=22.26af17e4.chunk.js.map